# NeuPAN Nav2 Controller Docker 测试配置
# 简化版配置，专用于容器内的基础功能测试

# 控制器服务器配置
controller_server:
  ros__parameters:
    # 基础控制器参数
    controller_frequency: 10.0
    min_x_velocity_threshold: 0.001
    min_y_velocity_threshold: 0.001
    min_theta_velocity_threshold: 0.001
    failure_tolerance: 0.5
    progress_checker_plugin: "progress_checker"
    goal_checker_plugins: ["general_goal_checker"]
    controller_plugins: ["FollowPath"]
    
    # 进度检查器配置
    progress_checker:
      plugin: "nav2_controller::SimpleProgressChecker"
      required_movement_radius: 0.3
      movement_time_allowance: 15.0
    
    # 目标检查器配置
    general_goal_checker:
      stateful: True
      plugin: "nav2_controller::SimpleGoalChecker"
      xy_goal_tolerance: 0.3
      yaw_goal_tolerance: 0.5
    
    # NeuPAN 控制器配置 - Docker 测试版本
    FollowPath:
      plugin: "neupan_nav2_controller::NeuPANController"
      # 机器人运动学类型
      robot_type: "omni"  # Docker测试默认使用全向机器人
      
      # 速度限制 (保守设置用于测试)
      max_linear_velocity: 0.5   # 减小速度用于测试
      max_angular_velocity: 1.0  # 减小角速度用于测试
      
      # 控制参数
      goal_tolerance: 0.3        # 目标到达容差
      
      # 传感器配置 (Docker环境中可能没有真实传感器)
      laser_topic: "/scan"       # 激光雷达话题
      
      # 调试模式 (Docker测试中启用)
      debug_mode: true           # 输出详细调试信息
